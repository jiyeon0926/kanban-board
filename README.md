# 💡 kanban-board 
## ONE pick! 의 Mozzarello 🧀


- ### 프로젝트 :  모짜렐로
- #### 소개
    - 한 줄 정리 : ‘모’든 곳에서 일등을 원하는 진‘짜’들을 위한 협업 관리 서비스(Trello)
    
    - 내용 : 특정 분야에서 정점이 되고 싶은 고객들을 위한 협업 툴
        - 기존의 업무 효율성 향상을 위한 협업 툴을 뛰어넘어, 밀도 높은 업무 수행까지도 할 수 있도록 도움을 주는 기능을 추가하였다.
    
    - 기존 협업 툴과의 차별성
        - 로그인 알림 기능 : 팀원들이 얼마나 밀도 있게 업무에 몰입하는지를 실시간으로 확인할 수 있다.
        - 카드 첨부 파일 기능에 다양한 파일을 업로드함으로써 서로의 작업물들을 좀 더 쉽고 빠르게 확인할 수 있다.
------------
### 심화 프로젝트 Trello 만들기 🧑🏻‍💻

------------
###  프로젝트 기간
#### 🗓 2024.12.23 ~ 2024.12.31
------------
## 🛠 개발 환경 
- Tech : ![Spring](https://img.shields.io/badge/Spring-6DB33F.svg?&style=for-the-badge&logo=Spring&logoColor=white) 3.4.1
- IDE : ![IntelliJ IDEA](https://img.shields.io/badge/IntelliJIDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white)
- JDK : ![Java](https://img.shields.io/badge/Java-007396.svg?&style=for-the-badge&logo=Java&logoColor=white) v.17
- DB : ![MySQL](https://img.shields.io/badge/MySQL-4479A1.svg?&style=for-the-badge&logo=MySQL&logoColor=white) Ver 8+
------------
## 와이어프레임 📝

<details>
  <summary>  와이어프레임 </summary> 

![Figma](https://img.shields.io/badge/figma-%23F24E1E.svg?style=for-the-badge&logo=figma&logoColor=white)


  ## Wireframe
  ![image](https://github.com/user-attachments/assets/c2b233e1-1972-41e8-82f6-b631309f1339)


  ### User
  <img width="1401" alt="스크린샷 2024-12-31 오전 5 41 28" src="https://github.com/user-attachments/assets/5c274f7f-3adc-4b14-b002-f9e323673130" />

  ### Admin
  <img width="1376" alt="스크린샷 2024-12-31 오전 5 40 41" src="https://github.com/user-attachments/assets/50fb4b12-9bcd-4fe8-a2ff-2c608accf365" />

  ### Workspace
  <img width="1127" alt="스크린샷 2024-12-31 오전 5 44 02" src="https://github.com/user-attachments/assets/42c8eca9-92ff-45b0-9f7a-0898dca02079" />

  ### Board
  <img width="576" alt="스크린샷 2024-12-31 오전 5 45 39" src="https://github.com/user-attachments/assets/cf409e28-4554-4684-8da6-ddf403e0754c" />

  ### BoardList
  <img width="995" alt="스크린샷 2024-12-31 오전 5 46 00" src="https://github.com/user-attachments/assets/09655fe4-b435-4a56-a503-11a3cd40b409" />

  ### Card
  <img width="558" alt="스크린샷 2024-12-31 오전 5 46 24" src="https://github.com/user-attachments/assets/67bc9182-012c-4fee-b3bb-0381ba888a31" />

  ### Comment
  <img width="924" alt="스크린샷 2024-12-31 오전 5 46 53" src="https://github.com/user-attachments/assets/3a628c02-f349-45c9-8e56-674c7f336820" />

  ### Serch
  <img width="351" alt="스크린샷 2024-12-31 오전 5 47 18" src="https://github.com/user-attachments/assets/9e03656c-da43-426b-8b86-25489dbd0868" />

  ### Notification
  <img width="351" alt="스크린샷 2024-12-31 오전 5 47 38" src="https://github.com/user-attachments/assets/dd588e36-4c32-42aa-8954-c6f702e3719c" />


  </details>


------------
## ERD 📁

![image](https://github.com/user-attachments/assets/4715e634-5f58-47ef-bd51-c82511be1cbb)

------------
## API 명세서 📋

### [Postman Mozzarello Kanban API 명세서](https://documenter.getpostman.com/view/39375040/2sAYJ7fJja)
  
---------------
## 기능 구현 🖥  


### 1. User 유저 - JWT
#### JWT를 활용한 회원탈퇴 기능

- 회원가입 후 로그인하면 서버는 클라이언트에게 JSESSIONID 쿠키를 저장하여 인증을 처리 
- 회원탈퇴 기능은 비밀번호 확인 API와 회원탈퇴 API가 분리되어 있어, JWT 토큰을 활용하여 안전하게 구현 
- 프론트엔드가 없는 환경에서 API가 분리된 상황에서는 사용자가 비밀번호 확인을 완료했는지 구분할 방법이 없으므로, 비밀번호 확인 API에서 검증을 마치면 임시 토큰을 발급받을 수 있고, 이 임시 토큰을 통해 탈퇴 처리를 할 수 있다.

- 임시 토큰
    - claim() 메서드를 사용해 type이라는 클레임을 JWT 토큰의 페이로드에 추가하여, 로그인 시 받는 access 토큰과 구분할 수 있도록 구현
    - 로그인할 때 발급 받은 access 토큰을 사용하거나, 임시 토큰이 만료되면 401 상태 코드와 오류 메시지가 발생하도록 설정
    - 사용자는 안전하게 비밀번호를 확인하고, 회원탈퇴를 진행할 수 있다.


### 2. Member 멤버
#### 워크스페이스 내 멤버십 관리 기능

- 워크스페이스에 소속된 멤버들을 관리하며, 각 멤버에게 역할을 부여하여 권한을 제어
- 멤버는 MEMBER, MODERATOR, ADMIN 등의 역할을 가질 수 있으며, 각 역할에 따라 접근 권한이 달라진다.
- 멤버 추가, 삭제 시 소프트 딜리트를 적용하여 데이터의 무결성을 유지

- 주요 기능
    - 멤버 추가 및 삭제: 워크스페이스에 새로운 멤버를 추가하거나 기존 멤버를 삭제
    - 역할 부여: 각 멤버에게 적절한 역할을 부여하여 권한을 관리
    - 소프트 딜리트: 멤버가 워크스페이스를 떠나거나 제거될 경우, MemberStatus를 변경하여 소프트 딜리트한다.
    - 연관 데이터 관리: 멤버가 삭제될 때 관련된 데이터(예: 권한, 초대 등)도 함께 삭제
    - 워크스페이스 내 멤버 관리의 효율성과 보안성을 높일 수 있다.

### 3. Invite 초대
#### 워크스페이스에 새로운 멤버를 초대하는 기능

- 워크스페이스에 새로운 사용자를 초대하여 협업을 활성화 
- 초대는 이메일을 기반으로 진행되며, 초대 상태에 따라 PENDING, ACCEPTED, REJECTED로 관리
- 초대는 소프트 딜리트를 통해 관리되어 데이터의 일관성을 유지

- 주요 기능
    - 초대 생성: 워크스페이스 관리자 또는 권한을 가진 사용자가 새로운 멤버를 초대
    - 초대 상태 관리: 초대의 상태를 PENDING, ACCEPTED, REJECTED로 변경하여 관리
    - 소프트 딜리트: 초대가 거절되거나 만료될 경우, InviteStatus를 변경하여 소프트 딜리트
    - 연관 데이터 관리: 각 초대는 특정 워크스페이스와 사용자에게 속하며, 초대가 삭제될 때 관련 데이터도 함께 삭제
    - 워크스페이스에 효율적으로 멤버를 초대하고 관리할 수 있다.

### 4. Workspace 워크스페이스
#### 협업을 위한 공간을 관리하는 기능

- 워크스페이스는 여러 보드와 멤버가 소속될 수 있는 협업 공간으로, 프로젝트나 작업을 체계적으로 관리할 수 있다.
- 워크스페이스는 ACTIVE, DELETED 상태로 관리되며, 소프트 딜리트를 적용하여 데이터의 무결성을 유지

- 주요 기능
    - 워크스페이스 생성 및 삭제: 새로운 워크스페이스를 생성하거나 삭제
    - 멤버 관리: 워크스페이스에 멤버를 추가하거나 제거하고, 역할을 부여한다.
    - 보드 관리: 워크스페이스 내에 여러 보드를 생성하고 관리
    - 초대 관리: 새로운 멤버를 워크스페이스에 초대
    - 소프트 딜리트: 워크스페이스가 삭제될 경우, WorkspaceStatus를 변경하여 소프트 딜리트
    - 연관 데이터 관리: 워크스페이스가 삭제되면 관련된 보드, 리스트, 카드, 멤버, 초대 등이 함께 삭제
    - 조직 내 협업을 효율적으로 관리할 수 있다.

### 5. Board 보드
#### 워크스페이스 내 프로젝트나 작업을 관리하는 공간

- 보드는 여러 리스트와 카드를 포함하여 프로젝트나 작업을 체계적으로 관리할 수 있는 공간
- 보드는 ACTIVE, DELETED 상태로 관리되며, 소프트 딜리트를 적용하여 데이터의 일관성을 유지

- 주요 기능
    - 보드 생성 및 삭제: 새로운 보드를 생성하거나 삭제
    - 리스트 관리: 보드 내에 여러 리스트를 생성하고 관리
    - 카드 관리: 리스트에 카드를 추가하여 작업을 세분화한다.
    - 역할 기반 접근 제어: 보드 생성, 수정, 삭제는 특정 역할을 가진 멤버만 수행할 수 있다.
    - 소프트 딜리트: 보드가 삭제될 경우, BoardStatus를 변경하여 소프트 딜리트한다.
    - 연관 데이터 관리: 보드가 삭제되면 관련된 리스트, 카드, 첨부파일, 댓글 등이 함께 삭제
    - 프로젝트나 작업의 흐름을 체계적으로 관리할 수 있다.

### 6. BoardList 리스트
#### 보드 내 작업을 분류하는 단위

- 리스트는 보드 내에서 작업을 분류하는 역할을 하며, 여러 카드를 포함하여 작업의 상태를 시각적으로 관리할 수 있다.
- 리스트는 ACTIVE, DELETED 상태로 관리되며, 소프트 딜리트를 적용하여 데이터의 무결성을 유지
  
- 주요 기능
    - 리스트 생성 및 삭제: 새로운 리스트를 생성하거나 삭제
    - 카드 관리: 리스트 내에 카드를 추가, 수정, 삭제하여 작업을 관리
    - 작업 조직화: "할 일(To Do)", "진행 중(In Progress)", "완료(Done)" 등과 같이 작업의 상태를 분류
    - 소프트 딜리트: 리스트가 삭제될 경우, ListStatus를 변경하여 소프트 딜리트한다.
    - 연관 데이터 관리: 리스트가 삭제되면 관련된 카드, 첨부파일, 댓글 등이 함께 삭제
    - 작업의 진행 상태를 명확하게 관리할 수 있다.

### Card 카드
#### 리스트 내 개별 작업이나 아이템을 나타내는 기능

- 카드는 특정 작업이나 아이템을 나타내며, 여러 첨부파일과 댓글을 포함할 수 있다.
- 카드의 상태는 ACTIVE, DELETED로 관리되며, 소프트 딜리트를 통해 데이터의 일관성을 유지한다.

- 주요 기능:
    - 카드 생성 및 삭제: 새로운 카드를 생성하거나 삭제
    - 카드 수정: 카드의 제목, 내용, 마감일, 담당자를 수정할 수 있다.
    - 첨부파일 관리: 카드는 여러 첨부파일을 가질 수 있으며, 파일을 업로드하고 삭제할 수 있다.
    - 댓글 관리: 카드는 여러 댓글을 가질 수 있으며, 사용자 간의 소통을 지원
    - 히스토리 추적: 카드의 변경 사항을 히스토리로 기록하여 추적할 수 있다.
    - 소프트 딜리트: 카드가 삭제될 경우, CardStatus를 변경하여 소프트 딜리트한다.
    - 연관 데이터 관리: 카드가 삭제되면 관련된 첨부파일, 댓글, 히스토리가 함께 삭제
    - 작업의 세부 사항을 체계적으로 관리할 수 있다.
 
### 8. Comment 댓글
#### 카드에 대한 사용자 간의 토론과 협업을 지원하는 기능

- 댓글은 카드에 대한 피드백이나 토론을 위해 사용되며, 텍스트와 이모지를 포함할 수 있다.
- 댓글은 ACTIVE, DELETED 상태로 관리되며, 소프트 딜리트를 통해 데이터의 무결성을 유지

- 주요 기능
    - 댓글 작성 및 삭제: 사용자는 카드에 댓글을 작성하거나 삭제할 수 있다.
    - 이모지 지원: 댓글에 이모지를 추가하여 표현력을 높일 수 있다.
    - 작성자 추적: 각 댓글은 작성자를 추적하여 누가 작성했는지 확인할 수 있다.
    - 타임스탬프 기록: 댓글 생성 및 수정 시각을 기록하여 변경 이력을 관리
    - 소프트 딜리트: 댓글이 삭제될 경우, CommentStatus를 변경하여 소프트 딜리트한다.
    - 연관 데이터 관리: 카드가 삭제될 경우, 관련된 모든 댓글도 함께 삭제된다.
    - 이를 통해 사용자 간의 원활한 소통과 협업을 지원한다.

### 9. Search 검색
#### 카드를 다양한 기준으로 검색할 수 있는 기능

- 검색 기능은 카드의 제목, 내용, 마감일, 담당자 이름 등을 기준으로 페이징하여 검색할 수 있으며, 특정 보드에 속한 모든 카드를 검색할 수도 있다. 
- 이를 통해 사용자는 원하는 카드를 빠르고 효율적으로 찾을 수 있다.

- 주요 기능:
    - 검색 기준: 카드 제목 / 카드 내용 / 마감일 / 담당자 이름 / 특정 보드에 속한 카드
    - 페이징: 대량의 데이터 처리 시 페이징을 통해 검색 결과를 효율적으로 제공
    - 필터링: 특정 보드에 속한 카드만 검색할 수 있다.
    - 전체 텍스트 검색: 카드의 제목과 내용을 대상으로 키워드 검색을 지원한다.
    - 담당자 기반 검색: 특정 담당자에게 할당된 카드를 검색할 수 있다.
    - 마감일 기반 검색: 특정 날짜 범위 내의 마감일을 가진 카드를 검색할 수 있다.
    - 보드별 검색: 특정 보드에 속한 카드만을 대상으로 검색할 수 있다.
    - 사용자는 필요한 정보를 신속하게 찾아 업무 효율성을 높일 수 있다.

### 10. CardAttachment 첨부파일
#### S3를 연결하여 이미지를 포함한 각종 파일들을 관리하는 기능

- 클라이언트가 카드를 생성할 때 제목, 내용, 담당자, 마감일과 함께 여러 첨부파일을 업로드할 수 있더.
- Postman과 같은 도구를 통해 multipart/form-data 형식으로 요청을 보내면, 애플리케이션은 application.properties 또는 application.yml에 설정된 AWS S3 정보를 사용하여 파일을 처리한다.

- 주요 기능:
    - 파일 업로드: 클라이언트가 보낸 파일을 AWS S3에 저장하고, 파일의 URL을 데이터베이스에 저장
    - 파일 검증: 파일 이름과 크기를 검증하여 지원되지 않는 형식이나 크기 초과 파일을 거부
    - 고유 파일 이름 생성: UUID를 사용하여 파일 이름의 중복을 방지하고, 고유한 이름을 생성
    - S3 연동: AWS S3에 파일을 업로드하고, 업로드된 파일의 URL을 반환합니다.
    - 파일 삭제: 첨부파일 삭제 시 S3에서 파일을 삭제하고, 데이터베이스에서도 해당 첨부파일을 제거
    - 소프트 딜리트: 첨부파일이 삭제될 경우, AttachmentStatus를 변경하여 소프트 딜리트한다.
    - 연관 데이터 관리: 카드가 삭제될 경우, 관련된 모든 첨부파일도 함께 삭제
    - 사용자는 파일을 안전하고 효율적으로 업로드하고 관리할 수 있다.

### 11. Notification 알림
#### 슬랙을 통한 실시간 알림 기능

- 슬랙에서 Incoming WebHooks 앱을 설치하고, 발급받은 토큰을 통해 다양한 이벤트 발생 시 실시간으로 알림을 전송
- 주요 이벤트에는 멤버 추가, 로그인, 워크스페이스 생성, 보드/리스트/카드 생성, 댓글 작성 등이 포함

- 주요 기능:
    - 알림 설정: 알림 방식으로 슬랙 알림을 사용하여 실시간으로 알림을 전달
    - 실시간 알림: 주요 이벤트 발생 시 슬랙으로 실시간 알림을 전송하여 사용자에게 즉각적인 피드백을 제공
    - 알림 종류: 멤버 추가 / 로그인 / 워크스페이스 생성 / 보드 / 리스트 / 카드 생성 / 댓글 작성
    - 슬랙 연동: Incoming WebHooks를 통해 슬랙 채널이나 사용자에게 알림을 전송
    - 소프트 딜리트: 알림은 이벤트 기반으로 발생하므로, 소프트 딜리트의 대상이 아니다.
    - 연관 데이터 관리: 필요 시 알림 메시지를 데이터베이스에 저장하여 로그로 관리할 수 있다.
    - 사용자들은 중요한 이벤트에 대해 실시간으로 알림을 받아 빠르게 대응할 수 있다.
  
------------
## 시연 영상
### [ONE pick의 Mozzarello 시연 영상](https://youtu.be/JC8Yg2y1avA)

------------
## 팀원 👥

 |  |이름|역할|MBTI|Github|블로그|
 |------|------|------|------|------|------|
 |![2-276-2-324](https://github.com/user-attachments/assets/9e4bdcb9-f632-44f2-bce4-60680135079a)|김지연 |팀원|ISFP|[jiyeon0926](https://github.com/jiyeon0926))|[velog](https://velog.io/@yeoni9094/posts)|
 |![2-273-39-321](https://github.com/user-attachments/assets/cd4a49c9-4521-4702-b14f-e17ad7ad22c1)|장은영 |팀원|ESTJ|[eunyounging](https://github.com/eunyounging)|[tistory](https://write7551.tistory.com/)|
 |![2-269-61-313](https://github.com/user-attachments/assets/0262182a-412c-4a80-bccb-cd2f6d46071c)|김휘웅 |팀장|INTJ|[hwiung](https://github.com/hwiung)|[tistory](https://khu2172.tistory.com/)|
 |![2-274-2-322](https://github.com/user-attachments/assets/40501b7e-8e20-4b04-a129-650dbba3d7e9)|허수연 |팀원|INTJ|[sooyeoneo](https://github.com/sooyeoneo)|[tistory](https://sooyeoneo.tistory.com/)|

------------
## Tasks ✍🏻
### 김지연 
    1. 와이어프레임, ERD, API 설계
    2. 초기 설정 (환경변수, 엔티티, 패키지 정리)
    3. JWT
    4. 유저 CRUD
    5. 멤버 및 초대 보완
    6. 카드 검색
    7. 알림
    
### 장은영
    1. 와이어프레임, ERD, API 설계
    2. 리스트 CRUD
    3. 댓글 CRUD
    
### 김휘웅
    1. 와이어프레임, ERD, API 설계
    2. 워크스페이스 CRUD
    3. 초대
    
### 허수연
    1. 와이어프레임, ERD, API 설계
    2. 보드 CRUD
    3. 카드 CRUD
    4. 첨부파일 S3

------------

## 프로젝트를 마무리하며.. 🛎

* 김지연 : 구현을 하면서 설계의 부족함을 많이 느꼈고, 설계의 중요성을 다시 한 번 깨달을 수 있었습니다.
새로운 기능 구현도 좋지만 설계에 대한 학습 및 설계 연습을 많이 해보면서 성장해보려고 합니다.
협업 분위기가 좋아서 버틸 수 있었어요😊

* 장은영 : 팀원분들의 많은 도움 덕분에 프로젝트를 잘 완성할 수 있었습니다. 
또한 어려운 점이 생기면 공유하고 함께 고민해보는 시간을 통해 더 성장할 수 있었고, 제게 부족한 지식이 어떤 것인지 깨닫기도 했습니다. 
앞으로도 이러한 배움을 바탕으로 지속적으로 성장해 나가겠습니다🧸

* 김휘웅 : 여전히 어렵지만 그래도 조금씩이나마 성장하는 걸 느낄 수 있어서 좋았습니다.
또한, 넓은 시야에서 널리 내다보면서 설계를 하는 백엔드 개발이 매력있게 느껴지기 시작했습니다.
팀원들에게 많이 물어보면서 의지했지만, 나중엔 저도 팀원들에게 도움을 많이 주는 존재가 되고 싶습니다☃️

* 허수연 : S3 업로드 기능을 구현하면서 S3 권한 거부 오류가 발생하였습니다.
디버깅을 하지 않았다면 문제를 해결하지 못하였을 것 같네요. 이렇게까지 어렵게 S3를 연결하게 될 줄 몰랐는데, 개발은 언제나 새롭고 디버깅은 중요합니다. 
팀 프로젝트를 할 때마다 잠을 생략하는 삶을 살았는데, 이번에는 팀원 모두가 평일 주말 24시간 내내 프로젝트를 완성해가면서 진정으로 함께 프로젝트에 몰두한다고 느꼈습니다. 
물론 다음 팀프로젝트에서도 계속 밤을 새면 안 되겠지만요. 
함께해주신 ONE pick! 여러분들 감사합니다! 🌝

------------
## 트러블 슈팅 🎯
#### [[AWS] S3 FULL ACCESS 권한 오류 : 정책 권한 생성하기](https://sooyeoneo.tistory.com/110)



